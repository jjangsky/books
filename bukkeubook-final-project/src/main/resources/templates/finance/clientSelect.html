<!DOCTYPE html>

<html xmlns:th="http://www.thymleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet"  th:href="@{/css/books/bookList/bookList.css}">
	<link rel="stylesheet"  th:href="@{/css/books/order/orderDetail.css}">
</head>
<body>
    <div th:replace="/common/topSideBar.html"></div>

        <h2 class="mb-4" id="main-text">거래처 관리</h2>
        <hr><br><br>
        <h5 class="mb-4" id="sub-text">거래처 조회</h5>
        <br>

         <div class="search-area" align="center">
			<form id="loginForm" action="/client/select" method="get" style="display: inline-block">
				<input type="hidden" name="searchCondition" value=1>
				<input type="text" style="display:none;"> <!-- 엔터키 새로고침 방지용 -->
				<input type="hidden" name="currentPage" value="1">
				<input type="search" id="inputFind" name="searchValue" th:value="${selectCriteria.searchValue}">
				<button class="btn btn-bs" type="submit">검색하기</button>
			</form>
		</div>
		<div>
            <button type="button" onclick="location.href='/client/regist'">신규 거래처 등록</button>
            <button type="button" onclick="checkStop()">거래 중지</button>
        </div>
        

        <div id="textTable" style="text-align:-webkit-center">
          <table id="sampleTable">
              <tr>
                <th class="th1"></th>
                <th class="th1">거래처번호</th>
                <th class="th1">거래처명</th>
                <th class="th1">대표자</th>
                <th class="th1">전화번호</th>
                <th class="th1">담당자명</th>
                <th class="th1">담당자 연락처</th>
                <th class="th1">거래여부</th>
              </tr>
              <tr class="tr1" th:each="client : ${ clientList }">
	           	   <td><input type="checkbox" name="inactive"></td>
	               <td th:text="${ client.cntNo }" th:onclick="'location.href = \'' + @{/client/detail/(cntNo=${client.cntNo})} + '\''"></td>
	               <td th:text="${ client.cntName }" th:onclick="'location.href = \'' + @{/client/detail/(cntNo=${client.cntNo})} + '\''"></td>
	               <td th:text="${ client.cntRepName }" th:onclick="'location.href = \'' + @{/client/detail/(cntNo=${client.cntNo})} + '\''"></td>
	               <td th:text="${ client.cntPhone }" th:onclick="'location.href = \'' + @{/client/detail/(cntNo=${client.cntNo})} + '\''"></td>
	               <td th:text="${ client.cntManaName }" th:onclick="'location.href = \'' + @{/client/detail/(cntNo=${client.cntNo})} + '\''"></td>
	               <td th:text="${ client.cntManaPhone }" th:onclick="'location.href = \'' + @{/client/detail/(cntNo=${client.cntNo})} + '\''"></td>
	               <td th:text="${ client.cntTradeYn }" th:onclick="'location.href = \'' + @{/client/detail/(cntNo=${client.cntNo})} + '\''"></td>
               </tr>
          </table>
        </div>
	<div th:replace="/finance/clientSelectPaging.html"></div>
    <script th:inline="javascript">
      function checkStop(){
        var result = confirm("선택하신 거래처들을 거래 중지로 바꾸시겠습니까?");

        if(result == true){
          alert("선택하신 거래처들이 거래 중지 처리되었습니다.");
        }
      }
      
      function findTest(){
    	  	alert('눌렸어');
    	  	
			if(inputFind.value == "" && searchCondition.value == 'select'){
				alert('분류와 검색어를 입력 해 주세요.');
				return;
			} else if(searchCondition.value == 'select'){
				alert('분류를 선택 해 주세요.');
				return;
			} else if(inputFind.value == ""){
				alert('검색어를 입력 해 주세요.')
				return;
			} else {
				$('#loginForm').submit();
			}
		}
    </script>
  </body>
</html>